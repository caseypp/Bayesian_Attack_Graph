<html>
	<head>
		<title>Traffic light. Read me.</title>
	</head>
	<body>
	<h1>Smart traffic light</h1>
	<p>Here we describe several common ideas of system that provides smart traffic light. </p>
	<img src =".\\pix\\road.gif"\>
	<h1>Problem description</h1>
	<p>Let in the city N there is crossroad with traffic light, which shows red, green and yellow signals by turns. We will name sequence of showing red, green and yellow signals as cycle of traffic light. Cycle time and time of lighting yellow signal are fixed, but time of lighting green and red signals may change. Consider traffic light works around the clock. For example, day may be divided only on 24 parts (hours). Several cars on first and second road arrive to the crossroad every hour. A number of stopped cars near the crossroad at the start of cycle depends on duration of red and green signals lighting time and that is why traffic congestions (jams) may appear. Our problem is chousing optimal lighting intervals of red and green signals for decreasing maximum carpool values near crossroad at the start of traffic light cycle.</p>
	<h1>Bayesian approach</h1>
	<h2>1. Constructing model</h2>
	<p>Lets carpool depends on hour, day and weather. Hour may takes 5 values, weather – 3 values (sunny, cloudy and rainy), day – 2 values. We can create Bayesian network that describes out problem. </p>
	<img src = ".\\pix\\network.gif"/>
	<p>In our simple case all network nodes are discrete. Car Stream 1 node describes carpool on first road, Car Stream 2 node– on second road. For examlpe, Car Stream 1 and Car Stream 2  nodes may take 4 values. First value means that carpool is less than 5 cars. Second value means that carpool is more than 5 cars but less than 10 cars. Third: more than 10 and less than 20. Fourth: more than 20.</p>
	<h2>2. Learning model parameters</h2>
	<p>For optimal working on fixed crossroad and exploitation conditions network have to be trained. We have to execute the following actions:</p>
	<p>À. Gathering observations. On this stage we suppose that some valus of nodes Car Stream 1 and Car Stream 2 are observed for every fixed value configuration of nodes Hour, Weather and Day. In our simple example these values will be well-known because carpools are generated by our functions, but in practic, these values are computed by statistic (human or machine) that observe the carpools near the crossroad. With the help of Hour, Weather, Day, Car Stream 1 and Car Stream 2 node values, our system calculate optimal lighting time distribution. We use the following formula:</p>
	<img src = ".\\pix\\formula.gif"/>
	<p>We can find optimal RedTime and GreenTime values with excess because there are several variants of lighting distributions. So, we have new evidence with all observed nodes (Hour, Weather, Day, Car Stream 1 and Car Stream 2).</p>
	<p>B. Learning network. We learn network with help of EM learning algorithm on the base of evidence samples.</p>
	<h2>3. Model exploitation</h2>
	<p>System does not use information about situation on the roads for choosing lighting variant after the network is trained. Now traffic light gets only values of nodes: Hour, Weather, Day from center of traffic controlling. Then system choose the most probable value of nodes Car Stream 1 and Car Stream 2 and use these values for calculation optimal lighting distribution. </p>
	<h1>How to work with the application</h1>
	<p>When program starts it shows you the crossroad with traffic lights and moving cars and humans on it (the cars are shown with black cubes, the humans are shown with blue ones). Time, days and weather are changing continuously.</p>
	<p>To change parameters you should press button “Stop”. You can change time, day, weather and type of using traffic light. Time, day and weather influence on the rate of cars and humans appearance.</p>
	<p>Time is divided into 5 groups:</p>
<pre>
Early morning:  6am-8am
Morning:        8am-11am
Afternoon:      11am-4pm
Everning:       4pm-9pm
Night:          9pm-6am
</pre>
	<p>You can change the time moving the slider on the top of the right panel.</p>
	<p>You can change the day clicking either on Workday (Monday, Tuesday, Wednesday, Thursday, Friday) or Holiday (Saturday, Sunday) radio button.</p>
	<p>You can change the weather clicking either on Sunny or Foggy or Rainy radio button.</p>
	<p>You can select the current traffic light by clicking either on Smart (a traffic light which uses the Bayesian network) or Ordinary (a traffic light which always uses uniform distribution) radio button.</p>
	<p>If you uncheck any of 3 check buttons labeled “Observed” the corresponding parameters (time, day or weather) will not be observed for the smart traffic light (it will not take them into account). This feature demonstrates how the Bayesian network works when not all nodes are observed.</p>
	<p>When you change all parameters as you want you should press Start button to apply changes and proceed with the emulation.</p>
	</body>
</html>
